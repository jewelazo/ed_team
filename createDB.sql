/* CREACION DE LA BASE DE DATOS STSHOE*/
CREATE DATABASE STSHOE
GO
/* USAR LA DB STSHOE*/
USE STSHOE
GO
/* CREACION DE LA TABLA PRODUCTO*/
CREATE TABLE PRODUCTO(
CODPRO CHAR(5) PRIMARY KEY,    --codigo del producto
NOMPRO VARCHAR(30) NOT NULL,   --nombre del producto
PREPRO VARCHAR(30) NOT NULL,   --presentacion del producto
SEXPRO CHAR(1) NOT NULL,       --sexo del producto
VALPRO DECIMAL(5,2)NOT NULL,   --precio del producto
STKMIN  INT )                  --stock minimo del producto
GO

/* CREACION DE LA TABLA CLIENTES*/
CREATE TABLE CLIENTES(
CODCLI CHAR(8) PRIMARY KEY,    --codigo cliente
NOMCLI VARCHAR(30) NOT NULL,   --nombre cliente
COUNTRY VARCHAR(30) NOT NULL,  --pais cliente
TELEFONO VARCHAR(9) NOT NULL,  --telefono cliente
CORREO   VARCHAR(30),         --correo cliente
DIREC VARCHAR(30) NOT NULL)   --direccion cliente
GO

/* CREACION DE LA TABLA FACTURA*/
CREATE TABLE FACTURA(
CODFAC CHAR(10) PRIMARY KEY, --codigo factura
CODCLI CHAR(8) FOREIGN KEY  --codigo cliente
REFERENCES CLIENTES(CODCLI),
FECFAC DATE NOT NULL)       --fecha factura
GO

/* CREACION DE LA TABLA DTLFACTURA(DETALLE FACTURA)*/
CREATE TABLE DTLFACTURA(
NUMDTL INT IDENTITY PRIMARY KEY, --id
CODFAC CHAR(10) FOREIGN KEY    --codigo factura
REFERENCES FACTURA(CODFAC),
CODPRO CHAR(5) FOREIGN KEY    --codigo producto
REFERENCES PRODUCTO(CODPRO),
CANTID INT NOT NULL,         --cantidad producto
TAXES INT NOT NULL,          --impuestos
DSCTO INT NOT NULL)          --descuento
GO

/* CREACION DE LA TABLA INVENTARIO*/
CREATE TABLE INVENTARIO(
ID     INT IDENTITY PRIMARY KEY,   --id
CODPRO CHAR(5) FOREIGN KEY      --codigo producto
REFERENCES PRODUCTO(CODPRO),
TIPMOV VARCHAR(7) NOT NULL,    --tipo movimiento(ENTRADA/SALIDA)
FECMOV DATE NOT NULL,          --fecha movimiento
CANMOV INT NOT NULL)           --cantidad movimiento
GO


/* INGRESO DE REGISTROS A LA TABLA PRODUCTO*/
INSERT INTO PRODUCTO VALUES('00001','zapatillas nike','bolsa','M',90,15)
INSERT INTO PRODUCTO VALUES('00002','zapatillas converse','bolsa','M',80,15)
INSERT INTO PRODUCTO VALUES('00003','zapatillas adidas','caja','F',95,15)
INSERT INTO PRODUCTO VALUES('00004','zapatillas reebok','caja','M',70,15)
INSERT INTO PRODUCTO VALUES('00005','zapatillas puma','bolsa','F',85,15)
GO


/* INGRESO DE REGISTROS A LA TABLA CLIENTES*/
INSERT INTO CLIENTES VALUES('48292288','Javier Guevara Rosas','Perú','958295668','jgr@gmail.com','Jr Callao 354')
INSERT INTO CLIENTES VALUES('12922998','Jose Santillana Pérez','Perú','958295658','jsp@gmail.com','Jr Bagua 104')
INSERT INTO CLIENTES VALUES('49392277','Gian Astorayme Elescano','Perú','958254668','gae@gmail.com','Jr Nazca 222')
INSERT INTO CLIENTES VALUES('25482999','Yerson Ramirez Cruz','Chile','957995628','yrc@gmail.com','Jr Morales 500')
INSERT INTO CLIENTES VALUES('25429945','Ines Salvador Ugarteche','Perú','968295668','isu@gmail.com','Jr Tomas Valle 322')
INSERT INTO CLIENTES VALUES('26984459','Felicita Medina Salvatierra','Bolivia','998295678','fms@gmail.com','Jr Dominicos 420')
INSERT INTO CLIENTES VALUES('38282977','Lucila Prado Camacho','Perú','938295668','lpc@gmail.com','Jr Olivar 180')
GO


/* INGRESO DE REGISTROS A LA TABLA FACTURAS*/
INSERT INTO FACTURA VALUES('FC00000001','48292288','01/05/20')
INSERT INTO FACTURA VALUES('FC00000002','12922998','01/05/20')
INSERT INTO FACTURA VALUES('FC00000003','25482999','01/10/20')
INSERT INTO FACTURA VALUES('FC00000004','25429945','01/11/20')
INSERT INTO FACTURA VALUES('FC00000005','26984459','01/15/20')
INSERT INTO FACTURA VALUES('FC00000006','49392277','01/15/20')
INSERT INTO FACTURA VALUES('FC00000007','38282977','01/25/20')
INSERT INTO FACTURA VALUES('FC00000008','26984459','02/26/20')
INSERT INTO FACTURA VALUES('FC00000009','49392277','02/28/20')
INSERT INTO FACTURA VALUES('FC00000010','48292288','02/09/20')
INSERT INTO FACTURA VALUES('FC00000011','12922998','03/15/20')
INSERT INTO FACTURA VALUES('FC00000012','25482999','03/18/20')
GO


/* INGRESO DE REGISTROS A LA TABLA DTLFACTURA
*/
INSERT INTO DTLFACTURA VALUES('FC00000001','00001',2,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000002','00001',1,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000003','00002',3,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000004','00001',1,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000005','00003',1,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000006','00004',2,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000007','00001',4,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000008','00005',3,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000009','00005',1,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000010','00004',1,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000011','00003',1,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000012','00001',2,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000001','00002',2,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000002','00004',4,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000004','00005',3,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000006','00002',2,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000008','00003',4,18,5)
INSERT INTO DTLFACTURA VALUES('FC00000012','00004',4,18,5)
GO


/* INGRESO DE REGISTROS A LA TABLA INVENTARIO*/
INSERT INTO INVENTARIO VALUES('00001','ENTRADA','01/01/20',8)
INSERT INTO INVENTARIO VALUES('00002','ENTRADA','01/03/20',6)
INSERT INTO INVENTARIO VALUES('00003','ENTRADA','01/10/20',4)
INSERT INTO INVENTARIO VALUES('00004','ENTRADA','01/15/20',8)
INSERT INTO INVENTARIO VALUES('00005','ENTRADA','02/10/20',6)
INSERT INTO INVENTARIO VALUES('00001','SALIDA','01/17/20',4)
INSERT INTO INVENTARIO VALUES('00002','SALIDA','01/28/20',2)
INSERT INTO INVENTARIO VALUES('00003','SALIDA','02/10/20',3)
INSERT INTO INVENTARIO VALUES('00005','SALIDA','02/01/20',4)
GO